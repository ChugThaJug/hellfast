spec:
  name: hellfast-app
  services:
  - name: api
    git:
      branch: main
      repo_clone_url: ${_self.repository_url}
    build_command: pip install -r requirements-app-platform.txt && cd frontend && npm ci && npm run build
    run_command: python main.py
    envs:
    - key: PYTHON_VERSION
      scope: RUN_AND_BUILD_TIME
      value: "3.10"
    - key: APP_ENV
      scope: RUN_AND_BUILD_TIME
      value: "production"
    - key: FRONTEND_URL
      scope: RUN_AND_BUILD_TIME
      value: ${APP_URL}
    - key: PIP_NO_BUILD_ISOLATION
      scope: BUILD_TIME
      value: "false"
